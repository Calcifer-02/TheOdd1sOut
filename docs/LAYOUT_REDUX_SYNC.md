# โ ะกะธะฝััะพะฝะธะทะฐัะธั layoutMode ะธ sortBy ัะตัะตะท Redux

## ะัะพะฑะปะตะผะฐ:
ะัะฑะพั ัะฐัะบะปะฐะดะบะธ (`layoutMode`) ะธ ัะพััะธัะพะฒะบะธ (`sortBy`) ัะฐะฑะพัะฐะป ัะพะปัะบะพ ะดะพ ะฟะตัะตะทะฐะณััะทะบะธ ัััะฐะฝะธัั. ะะฐัััะพะนะบะธ ัะพััะฐะฝัะปะธัั ะฒ Redux ัะพะปัะบะพ ะฟัะธ ะฝะฐะถะฐัะธะธ ะบะฝะพะฟะบะธ "ะกะพััะฐะฝะธัั" ะฒ `/settings`.

## ะะตัะตะฝะธะต:

### 1. **ะะฑะฝะพะฒะปะตะฝ ััะบ `useTaskFilters`**
ะขะตะฟะตัั ะพะฝ ะธัะฟะพะปัะทัะตั Redux ะฝะฐะฟััะผัั, ะฐ ะฝะต ะปะพะบะฐะปัะฝะพะต ัะพััะพัะฝะธะต:

**ะัะปะพ:**
```typescript
const [layoutMode, setLayoutMode] = useState<LayoutMode>('list');
const [sortBy, setSortBy] = useState<SortBy>('date');
```

**ะกัะฐะปะพ:**
```typescript
// ะงะธัะฐะตะผ ะทะฝะฐัะตะฝะธั ะฝะฐะฟััะผัั ะธะท Redux
const layoutMode = (taskSettings?.defaultView as LayoutMode) || 'list';
const sortBy = (taskSettings?.sortBy as SortBy) || 'date';

// ะคัะฝะบัะธะธ ะดะปั ะธะทะผะตะฝะตะฝะธั ั ัะพััะฐะฝะตะฝะธะตะผ ะฒ Redux
const setLayoutMode = useCallback((mode: LayoutMode) => {
    dispatch(updateTaskSettings({ defaultView: mode }));
}, [dispatch]);

const setSortBy = useCallback((sort: SortBy) => {
    dispatch(updateTaskSettings({ sortBy: sort }));
}, [dispatch]);
```

### 2. **ะะฑะฝะพะฒะปะตะฝะฐ ัััะฐะฝะธัะฐ ะฝะฐัััะพะตะบ `/settings`**
ะขะตะฟะตัั ะธะทะผะตะฝะตะฝะธั ัะพััะฐะฝััััั ะฒ Redux ะฝะตะผะตะดะปะตะฝะฝะพ:

**defaultView:**
```typescript
onChange={(value) => {
    const newView = value as 'list' | 'grid' | 'calendar';
    setTaskSettings({ ...taskSettings, defaultView: newView });
    // ะกัะฐะทั ัะพััะฐะฝัะตะผ ะฒ Redux
    dispatch(updateTaskSettings({ defaultView: newView }));
}}
```

**sortBy:**
```typescript
onChange={(value) => {
    const newSort = value as 'date' | 'priority' | 'name' | 'deadline' | 'createdAt';
    setTaskSettings({ ...taskSettings, sortBy: newSort });
    // ะกัะฐะทั ัะพััะฐะฝัะตะผ ะฒ Redux
    dispatch(updateTaskSettings({ sortBy: newSort }));
}}
```

### 3. **ะะฑะฝะพะฒะปะตะฝั ัะธะฟั**
ะะฐััะธัะตะฝ ัะธะฟ `sortBy` ะดะปั ะฟะพะดะดะตัะถะบะธ ะฒัะตั ะฒะฐัะธะฐะฝัะพะฒ:

```typescript
// settingsSlice.ts
sortBy: 'date' | 'priority' | 'name' | 'deadline' | 'createdAt';
```

## ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:

### ะะฐ ะณะปะฐะฒะฝะพะน ัััะฐะฝะธัะต `/`:
1. ะะพะปัะทะพะฒะฐัะตะปั ะฟะตัะตะบะปััะฐะตั ัะฐัะบะปะฐะดะบั (ะบะฝะพะฟะบะธ List/Grid/Calendar)
2. ะัะทัะฒะฐะตััั `setLayoutMode('grid')`
3. ะฅัะบ ะพัะฟัะฐะฒะปัะตั `dispatch(updateTaskSettings({ defaultView: 'grid' }))`
4. Redux ะพะฑะฝะพะฒะปัะตั store
5. Redux Persist ัะพััะฐะฝัะตั ะฒ localStorage ะฐะฒัะพะผะฐัะธัะตัะบะธ
6. **ะะทะผะตะฝะตะฝะธั ะฒะธะดะฝั ััะฐะทั ะธ ัะพััะฐะฝััััั ะฟะพัะปะต ะฟะตัะตะทะฐะณััะทะบะธ**

### ะ ะฝะฐัััะพะนะบะฐั `/settings`:
1. ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั "ะะธะด ะพัะพะฑัะฐะถะตะฝะธั: ะกะตัะบะฐ"
2. onChange ะฒัะทัะฒะฐะตั `dispatch(updateTaskSettings({ defaultView: 'grid' }))`
3. Redux ะพะฑะฝะพะฒะปัะตั store
4. Redux Persist ัะพััะฐะฝัะตั ะฒ localStorage
5. **ะะฐ ะณะปะฐะฒะฝะพะน ัััะฐะฝะธัะต ััะฐะทั ะฟัะธะผะตะฝัะตััั ะฝะพะฒะฐั ัะฐัะบะปะฐะดะบะฐ**

### ะะพัะปะต ะฟะตัะตะทะฐะณััะทะบะธ:
1. Redux Persist ะทะฐะณััะถะฐะตั ัะพััะพัะฝะธะต ะธะท localStorage
2. `useTaskFilters` ัะธัะฐะตั ะทะฝะฐัะตะฝะธั ะธะท Redux
3. **ะะฐัััะพะนะบะธ ะพััะฐัััั ัะฐะบะธะผะธ ะถะต, ะบะฐะบ ะฑัะปะธ**

## ะะพัะพะบ ะดะฐะฝะฝัั:

```
โโโโโโโโโโโโโโโ
โ ะะปะฐะฒะฝะฐั (/) โ
โ             โ
โ [List] [Grid]
โ   โ onClick โ
โโโโโโโโฌโโโโโโโ
       โ
       โ setLayoutMode('grid')
       โ
โโโโโโโโโโโโโโโโโโโโ
โ useTaskFilters   โ
โ                  โ
โ dispatch(update  โ
โ TaskSettings)    โ
โโโโโโโโฌโโโโโโโโโโโโ
       โ
       โ
โโโโโโโโโโโโโโโโโโโโ
โ  Redux Store     โ
โ                  โ
โ taskSettings: {  โ
โ  defaultView:    โ
โ  'grid'          โ
โ }                โ
โโโโโโโโฌโโโโโโโโโโโโ
       โ
       โ Redux Persist
       โ
โโโโโโโโโโโโโโโโโโโโ
โ  localStorage    โ
โ                  โ
โ persist:root     โ
โ {settings: {...}}โ
โโโโโโโโโโโโโโโโโโโโ
```

```
โโโโโโโโโโโโโโโโ
โ ะะฐัััะพะนะบะธ    โ
โ /settings    โ
โ              โ
โ Select: Grid โ
โ   โ onChange โ
โโโโโโโโฌโโโโโโโโ
       โ
       โ dispatch(updateTaskSettings)
       โ
โโโโโโโโโโโโโโโโโโโโ
โ  Redux Store     โ โ ะะดะธะฝัะน ะธััะพัะฝะธะบ ะฟัะฐะฒะดั
โ                  โ
โ taskSettings     โ
โโโโโโโโฌโโโโโโโโโโโโ
       โ
       โโโโโโโโโโโโโโโ ะะปะฐะฒะฝะฐั (/)
       โ               (ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฑะฝะพะฒะปัะตััั)
       โ
       โโโโโโโโโโโโโโโ localStorage
                       (ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพััะฐะฝัะตััั)
```

## ะงัะพ ัะธะฝััะพะฝะธะทะธััะตััั:

| ะะฐัััะพะนะบะฐ | ะะปะฐะฒะฝะฐั `/` | ะะฐัััะพะนะบะธ `/settings` | Redux | ะกะพััะฐะฝัะตััั |
|-----------|-------------|----------------------|-------|-------------|
| **layoutMode** | โ ะะฝะพะฟะบะธ | โ Select | โ | โ |
| **sortBy** | โ ะคะธะปัััั | โ Select | โ | โ |
| **showCompletedTasks** | โ | โ Switch | โ | โ |
| **defaultPriority** | โ | โ Select | โ | โ |

## ะขะตััะธัะพะฒะฐะฝะธะต:

### ะขะตัั 1: ะะทะผะตะฝะตะฝะธะต ะฝะฐ ะณะปะฐะฒะฝะพะน ัััะฐะฝะธัะต
1. ะัะบัะพะนัะต `/`
2. ะะตัะตะบะปััะธัะต ัะฐัะบะปะฐะดะบั ะฝะฐ "Grid"
3. ะะตัะตะทะฐะณััะทะธัะต ัััะฐะฝะธัั (F5)
4. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** ะะฐัะบะปะฐะดะบะฐ ะพััะฐะปะฐัั "Grid"

### ะขะตัั 2: ะะทะผะตะฝะตะฝะธะต ะฒ ะฝะฐัััะพะนะบะฐั
1. ะัะบัะพะนัะต `/settings` โ "ะะฐะดะฐัะธ"
2. ะะทะผะตะฝะธัะต "ะะธะด ะพัะพะฑัะฐะถะตะฝะธั" ะฝะฐ "ะะฐะปะตะฝะดะฐัั"
3. ะะตัะฝะธัะตัั ะฝะฐ `/` (ะฑะตะท ะฝะฐะถะฐัะธั "ะกะพััะฐะฝะธัั")
4. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** ะะฐัะบะปะฐะดะบะฐ ะธะทะผะตะฝะธะปะฐัั ะฝะฐ "ะะฐะปะตะฝะดะฐัั"

### ะขะตัั 3: ะกะธะฝััะพะฝะธะทะฐัะธั ะผะตะถะดั ะฒะบะปะฐะดะบะฐะผะธ
1. ะัะบัะพะนัะต `/` ะฒ ะดะฒัั ะฒะบะปะฐะดะบะฐั
2. ะ ะฟะตัะฒะพะน ะฒะบะปะฐะดะบะต ะฟะตัะตะบะปััะธัะต ะฝะฐ "Grid"
3. ะะฑะฝะพะฒะธัะต ะฒัะพััั ะฒะบะปะฐะดะบั (F5)
4. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** ะะพ ะฒัะพัะพะน ะฒะบะปะฐะดะบะต ัะพะถะต "Grid"

### ะขะตัั 4: ะัะพะฒะตัะบะฐ Redux DevTools
1. ะฃััะฐะฝะพะฒะธัะต Redux DevTools Extension
2. ะัะบัะพะนัะต `/`
3. ะะตัะตะบะปััะธัะต ัะฐัะบะปะฐะดะบั
4. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** ะ DevTools ะฒะธะดะฝะพ ะดะตะนััะฒะธะต `settings/updateTaskSettings`

### ะขะตัั 5: ะัะพะฒะตัะบะฐ localStorage
1. ะัะบัะพะนัะต DevTools (F12) โ Application โ Local Storage
2. ะะฐะนะดะธัะต ะบะปัั `persist:root`
3. ะะตัะตะบะปััะธัะต ัะฐัะบะปะฐะดะบั ะฝะฐ ะณะปะฐะฒะฝะพะน ัััะฐะฝะธัะต
4. **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** ะ `persist:root` ะพะฑะฝะพะฒะธะปะพัั ะฟะพะปะต `settings.taskSettings.defaultView`

## ะัะพะฒะตัะบะฐ ะฒ ะบะพะฝัะพะปะธ:

```javascript
// ะะพะปััะธัั ัะตะบััะธะต ะฝะฐัััะพะนะบะธ ะธะท Redux
JSON.parse(localStorage.getItem('persist:root')).settings

// ะะพะปะถะฝะพ ะฒะตัะฝััั ััะพ-ัะพ ะฒัะพะดะต:
{
  "theme": "system",
  "taskSettings": {
    "defaultView": "grid",  // โ ะขะตะบััะฐั ัะฐัะบะปะฐะดะบะฐ
    "sortBy": "priority",   // โ ะขะตะบััะฐั ัะพััะธัะพะฒะบะฐ
    "showCompletedTasks": true,
    ...
  }
}
```

## ะัะตะธะผััะตััะฒะฐ ัะตัะตะฝะธั:

โ **ะะดะธะฝััะฒะตะฝะฝัะน ะธััะพัะฝะธะบ ะฟัะฐะฒะดั** - Redux  
โ **ะะฒัะพะผะฐัะธัะตัะบะฐั ัะธะฝััะพะฝะธะทะฐัะธั** ะผะตะถะดั ะฒัะตะผะธ ะบะพะผะฟะพะฝะตะฝัะฐะผะธ  
โ **ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพััะฐะฝะตะฝะธะต** ัะตัะตะท Redux Persist  
โ **ะะฐะฑะพัะฐะตั ะผะตะถะดั ะฒะบะปะฐะดะบะฐะผะธ** (ะฟัะธ ะฟะตัะตะทะฐะณััะทะบะต)  
โ **ะะต ะฝัะถะฝะฐ ะบะฝะพะฟะบะฐ "ะกะพััะฐะฝะธัั"** - ะธะทะผะตะฝะตะฝะธั ะฟัะธะผะตะฝััััั ะผะณะฝะพะฒะตะฝะฝะพ  

## ะงัะพ ะะ ัะพััะฐะฝัะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ:

โ ะัะพัะธะปั (`name`, `email`, `avatar`) - ัะพะปัะบะพ ะฟะพ ะบะฝะพะฟะบะต "ะกะพััะฐะฝะธัั"  
โ ะฃะฒะตะดะพะผะปะตะฝะธั - ัะพะปัะบะพ ะฟะพ ะบะฝะพะฟะบะต "ะกะพััะฐะฝะธัั"  
โ ะัะธะฒะฐัะฝะพััั - ัะพะปัะบะพ ะฟะพ ะบะฝะพะฟะบะต "ะกะพััะฐะฝะธัั"  

**ะะพัะตะผั?** ะะพัะพะผั ััะพ ััะพ ะผะตะฝะตะต ะบัะธัะธัะฝัะต ะฝะฐัััะพะนะบะธ, ะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะทะฐัะพัะตัั ะพัะผะตะฝะธัั ะธะทะผะตะฝะตะฝะธั.

## ะะพัะพะฒะพ! ๐

ะขะตะฟะตัั ะฒัะฑะพั ัะฐัะบะปะฐะดะบะธ ะธ ัะพััะธัะพะฒะบะธ:
- โ ะะฐะฑะพัะฐะตั ะฝะฐ ะณะปะฐะฒะฝะพะน ัััะฐะฝะธัะต
- โ ะะฐะฑะพัะฐะตั ะฒ ะฝะฐัััะพะนะบะฐั
- โ ะกะธะฝััะพะฝะธะทะธััะตััั ะผะตะถะดั ะฝะธะผะธ
- โ ะกะพััะฐะฝัะตััั ะฟะพัะปะต ะฟะตัะตะทะฐะณััะทะบะธ
- โ ะัะธะผะตะฝัะตััั ะผะณะฝะพะฒะตะฝะฝะพ ะฑะตะท ะบะฝะพะฟะบะธ "ะกะพััะฐะฝะธัั"

